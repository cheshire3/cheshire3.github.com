<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>baseObjects.Index</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <link rel="stylesheet" href="/cheshire3.css" type="text/css"/>
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body>
<table width="100%" border=0 cellpadding=0 cellspacing=0 class="maintitle">
<tr height="75">
<td class="cheshirelogo" width="25%">
<img src="/gfx/c3_white.gif">
</td>
<td width="10">
<img src="/gfx/slant_grey.gif">
</td>
<td width="75%" align="center">
<h2>Cheshire3 Object Model: Class Index
</h2>
</td></tr>
</table>

<div class="fieldset">
<span class="legend"><a href="configParser-module.html">
        <a href="baseObjects-module.html">Module&nbsp;baseObjects</a> ::
        Class&nbsp;Index
      </span>
<p>


<h2 class="class">Class Index
<br/><span class="codelink"><a href="baseObjects-pysrc.html#Index">source&nbsp;code</a></span></h2>
<b>Object Tree:</b><pre class="base-tree">
           object --+    
                    |    
<a href="configParser.C3Object-class.html">configParser.C3Object</a> --+
                        |
                       <strong class="uidshort">Index</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
    <a href="index.SimpleIndex-class.html">index.SimpleIndex</a>,
    <a href="index.RecordIdentifierIndex-class.html">index.RecordIdentifierIndex</a>
</dd></dl>

<hr />
An Index is an object which defines an access point into records and 
  is responsable for extracting that information from them. It can then 
  store the information extracted in an IndexStore. The entry point can be 
  defined using one or more XPath expressions, and the extraction process 
  can be defined using a workflow chain of standard objects. These chains 
  must start with an Extractor, but from there might then include 
  PreParsers, Parsers, Transformers, Normalizers and even other Indexes.  
  The index can also be the last object in a regular Workflow, so long as 
  an XPath object is used to find the data in the record immediately before
  an Extractor.<br /><br />

<!-- ==================== INSTANCE METHODS ==================== -->
</div><div class="fieldset"><span class="legend">Instance Methods</span><p>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white"><tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#begin_indexing" class="sig-name">begin_indexing</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>)</span>
    <br />Perform tasks before indexing any records
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#commit_indexing" class="sig-name">commit_indexing</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>)</span>
    <br />Perform tasks after records have been indexed
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#construct_item" class="sig-name">construct_item</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">term</span>,
        <span class="sig-arg">rsitype</span>=<span class="sig-default">&quot;&quot;</span>)</span>
    <br />Take a single item, as stored in this Index, and produce a 
      ResultSetItem representation.
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#construct_resultSet" class="sig-name">construct_resultSet</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">terms</span>,
        <span class="sig-arg">queryHash</span>=<span class="sig-default">{}</span>)</span>
    <br />Take a list of terms and produce an appropriate ResultSet 
      object.
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#delete_record" class="sig-name">delete_record</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">record</span>)</span>
    <br />Delete all the terms of the given record from the indexes.
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#deserialise_terms" class="sig-name">deserialise_terms</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">data</span>)</span>
    <br />Callback from IndexStore to take serialised data and produce list 
      of terms and document references.
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#index_record" class="sig-name">index_record</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">record</span>)</span>
    <br />Accept a record to index.
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#merge_terms" class="sig-name">merge_terms</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">structTerms</span>,
        <span class="sig-arg">newTerms</span>,
        <span class="sig-arg">op</span>=<span class="sig-default">&quot;replace&quot;</span>,
        <span class="sig-arg">recs</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">occs</span>=<span class="sig-default">0</span>)</span>
    <br />Callback from IndexStore to take two sets of terms and merge them 
      together.
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#scan" class="sig-name">scan</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">clause</span>)</span>
    <br />Produce an ordered term list with document frequencies and total 
      occurences
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#search" class="sig-name">search</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">clause</span>)</span>
    <br />Search this particular index given a CQL clause, return a 
      resultSet object
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#serialise_terms" class="sig-name">serialise_terms</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">termId</span>,
        <span class="sig-arg">terms</span>,
        <span class="sig-arg">recs</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">occs</span>=<span class="sig-default">0</span>)</span>
    <br />Callback from IndexStore to serialise list of terms and document 
      references to be stored
  </td>
</tr>
<tr>

  <td>
    <span class="sig"><a href="baseObjects.Index-class.html#sort" class="sig-name">sort</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">resultSet</span>)</span>
    <br />Sort a result set based on the values extracted according to this 
      index.
  </td>
</tr>
  <tr>
    <td colspan="2">
    <p class="varlist"><span class="varlist-header">Inherited from <code><a href="configParser.C3Object-class.html">configParser.C3Object</a></code></span>:
      <code><a href="configParser.C3Object-class.html#__init__">__init__</a></code>,
      <code><a href="configParser.C3Object-class.html#auth_function">auth_function</a></code>,
      <code><a href="configParser.C3Object-class.html#get_config">get_config</a></code>,
      <code><a href="configParser.C3Object-class.html#get_default">get_default</a></code>,
      <code><a href="configParser.C3Object-class.html#get_object">get_object</a></code>,
      <code><a href="configParser.C3Object-class.html#get_path">get_path</a></code>,
      <code><a href="configParser.C3Object-class.html#get_setting">get_setting</a></code>,
      <code><a href="configParser.C3Object-class.html#log_function">log_function</a></code>,
      <code><a href="configParser.C3Object-class.html#unauth_function">unauth_function</a></code>,
      <code><a href="configParser.C3Object-class.html#unlog_function">unlog_function</a></code>
      </p>
    <div class="private">    <p class="varlist"><span class="varlist-header">Inherited from <code><a href="configParser.C3Object-class.html">configParser.C3Object</a></code></span> (private):
      <code><a href="configParser.C3Object-class.html#_getDomFromFile">_getDomFromFile</a></code>,
      <code><a href="configParser.C3Object-class.html#_handleConfigNode">_handleConfigNode</a></code>,
      <code><a href="configParser.C3Object-class.html#_parseIncludes">_parseIncludes</a></code>,
      <code><a href="configParser.C3Object-class.html#_recurseSubConfigs">_recurseSubConfigs</a></code>,
      <code><a href="configParser.C3Object-class.html#_verifyDefault">_verifyDefault</a></code>,
      <code><a href="configParser.C3Object-class.html#_verifyOption">_verifyOption</a></code>,
      <code><a href="configParser.C3Object-class.html#_verifySetting">_verifySetting</a></code>
      </p></div>
    <p class="varlist"><span class="varlist-header">Inherited from <code>object</code></span>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>

<br />
<!-- ==================== CLASS VARIABLES ==================== -->
</div><div class="fieldset"><span class="legend">Class Variables</span><p>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white"><tr>
  <td width="15%">
    <strong><a href="baseObjects.Index-class.html#indexStore">indexStore</a></strong></td>
  <td>&nbsp;</td>
</tr>
  <tr>
    <td colspan="2">
    <p class="varlist"><span class="varlist-header">Inherited from <code><a href="configParser.C3Object-class.html">configParser.C3Object</a></code></span>:
      <code><a href="configParser.C3Object-class.html#configStore">configStore</a></code>,
      <code><a href="configParser.C3Object-class.html#defaults">defaults</a></code>,
      <code><a href="configParser.C3Object-class.html#functionLogger">functionLogger</a></code>,
      <code><a href="configParser.C3Object-class.html#id">id</a></code>,
      <code><a href="configParser.C3Object-class.html#name">name</a></code>,
      <code><a href="configParser.C3Object-class.html#objectType">objectType</a></code>,
      <code><a href="configParser.C3Object-class.html#objects">objects</a></code>,
      <code><a href="configParser.C3Object-class.html#parent">parent</a></code>,
      <code><a href="configParser.C3Object-class.html#paths">paths</a></code>,
      <code><a href="configParser.C3Object-class.html#permissionHandlers">permissionHandlers</a></code>,
      <code><a href="configParser.C3Object-class.html#settings">settings</a></code>,
      <code><a href="configParser.C3Object-class.html#subConfigs">subConfigs</a></code>,
      <code><a href="configParser.C3Object-class.html#unresolvedObjects">unresolvedObjects</a></code>
      </p>
    <div class="private">    <p class="varlist"><span class="varlist-header">Inherited from <code><a href="configParser.C3Object-class.html">configParser.C3Object</a></code></span> (private):
      <code><a href="configParser.C3Object-class.html#_includeConfigStores">_includeConfigStores</a></code>,
      <code><a href="configParser.C3Object-class.html#_objectRefs">_objectRefs</a></code>
      </p></div>
    <p class="varlist"><span class="varlist-header">Inherited from <code>object</code></span>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>

<br />
<!-- ==================== METHOD DETAILS ==================== --></div><div class="fieldset"><span class="legend">Method Details</span><p><a name="begin_indexing"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">begin_indexing</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.begin_indexing">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Perform tasks before indexing any records
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="commit_indexing"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">commit_indexing</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.commit_indexing">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Perform tasks after records have been indexed
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="construct_item"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">construct_item</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">term</span>,
        <span class="sig-arg">rsitype</span>=<span class="sig-default">&quot;&quot;</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.construct_item">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Take a single item, as stored in this Index, and produce a 
  ResultSetItem representation.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="construct_resultSet"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">construct_resultSet</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">terms</span>,
        <span class="sig-arg">queryHash</span>=<span class="sig-default">{}</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.construct_resultSet">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Take a list of terms and produce an appropriate ResultSet object.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="delete_record"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">delete_record</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">record</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.delete_record">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Delete all the terms of the given record from the indexes. Does this 
  by extracting the terms from the record, finding and removing them. Hence
  the record must be the same as the one that was indexed.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="deserialise_terms"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">deserialise_terms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.deserialise_terms">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Callback from IndexStore to take serialised data and produce list of 
  terms and document references.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="index_record"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">index_record</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">record</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.index_record">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Accept a record to index.  If begin indexing has been called, the 
  index might not commit any data until commit_indexing is called.  If it 
  is not in batch mode, then index_record will also commit the terms to the
  indexStore.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="merge_terms"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">merge_terms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">structTerms</span>,
        <span class="sig-arg">newTerms</span>,
        <span class="sig-arg">op</span>=<span class="sig-default">&quot;replace&quot;</span>,
        <span class="sig-arg">recs</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">occs</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.merge_terms">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Callback from IndexStore to take two sets of terms and merge them 
  together.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="scan"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">scan</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">clause</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.scan">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Produce an ordered term list with document frequencies and total 
  occurences
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="search"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">search</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">clause</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.search">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Search this particular index given a CQL clause, return a resultSet 
  object
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="serialise_terms"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">serialise_terms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">termId</span>,
        <span class="sig-arg">terms</span>,
        <span class="sig-arg">recs</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">occs</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.serialise_terms">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Callback from IndexStore to serialise list of terms and document 
  references to be stored
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="sort"></a>
<div>
<table width="100%" class="func-details"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">sort</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">session</span>,
        <span class="sig-arg">resultSet</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="baseObjects-pysrc.html#Index.sort">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  Sort a result set based on the values extracted according to this 
  index.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== --></div><div class="fieldset"><span class="legend">Class Variable Details</span><p><a name="indexStore"></a>
<div>
<table width="100%" class="var-details"><tr><td>
  <h3>indexStore</h3>
  
  <dl><dt></dt><dd>
    <dl title="None"><dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </pre></td></tr></table></dd>
    </dl>
  </dd></dl>
</td></tr></table>
</div>
<br />
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">Generated by Epydoc
        3.0alpha2 on Wed Aug  9 18:09:57 2006</td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sf.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
